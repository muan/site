---
title: Note
layout: default
open_heart: true
date: 2025-09-24 11:32
location: Taipei
tags: 
  - Technology
  - Hobby
lang: en-US
---

```
const ALWAYS_DATIVE_ARTICLES: Record<Gender | plural, string> = {
  masculine: dem,
  feminine: der,
  neuter: dem,
  plural: den // + noun gets -n ending
};

const TWO_WAY_DATIVE_ARTICLES: Record<Gender | plural, string> = {
  masculine: dem,
  feminine: die, // Same as accusative!
  neuter: dem, 
  plural: die    // Same as accusative!
};

const ACCUSATIVE_ARTICLES: Record<Gender | plural, string> = {
  masculine: den,
  feminine: die,
  neuter: das,
  plural: die
};

class GermanPrepositions {
  // Two-way prepositions use special dative rules
  auf(noun: GermanNoun, movement: boolean, isPlural: boolean = false): string {
    const gender = isPlural ? plural : noun.gender;
    const article = movement 
      ? ACCUSATIVE_ARTICLES[gender]
      : TWO_WAY_DATIVE_ARTICLES[gender]; // Special dative rules!
    
    const nounForm = isPlural ? noun.plural : noun.word;
    return `auf ${article} ${nounForm}`;
  }
  
  // Always-dative prepositions use standard dative rules
  von(noun: GermanNoun, isPlural: boolean = false): string {
    const gender = isPlural ? plural : noun.gender;
    const article = ALWAYS_DATIVE_ARTICLES[gender];
    
    let nounForm = isPlural ? noun.plural : noun.word;
    // Add -n for dative plural if needed
    if (isPlural && !nounForm.endsWith(n) && !nounForm.endsWith(s)) {
      nounForm += n;
    }
    
    return `von ${article} ${nounForm}`;
  }
}
```
